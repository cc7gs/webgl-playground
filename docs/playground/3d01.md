---
title: 认识三维世界
group:
  title: 三维世界
  order: 4
order: 1
---

## 视点与视线

视点决定了我们观察物体的位置和角度，而视线则决定了我们观察物体的方向和距离。在 WebGL 中，我们可以通过设置视点和视线来控制场景的呈现方式，从而实现各种不同的效果。

### 视点、观察目标和上方向

在 WebGL 中，视点、观察目标和上方向是三个非常重要的概念。视点决定了我们观察物体的位置和角度，而观察目标则决定了我们观察物体的方向和距离。上方向则决定了我们观察物体的上下方向。在 WebGL 中，我们可以通过设置视点、观察目标和上方向来控制场景的呈现方式，从而实现各种不同的效果。

- 视点（Viewpoint）：视点是相机或观察者在 3D 空间中的位置。通常用三维坐标 (x, y, z) 表示。视点决定了观察者在场景中的位置，因此会影响渲染结果中的物体大小和位置。
- 观察目标（Look-at Point）：观察目标是相机或观察者在 3D 空间中所看向的点。这个点也用三维坐标 (x, y, z) 表示。观察目标决定了观察者的观察方向，影响渲染结果的视角。
- 上方向（Up Direction）：上方向是一个表示相机或观察者头部朝向的向量。通常，这个向量表示为 (0, 1, 0)，即沿着 Y 轴正方向。上方向决定了场景中的垂直方向，使得渲染结果具有正确的方向感。
  有了这三个要素，您可以创建一个“视图矩阵”（View Matrix），它表示从世界坐标系到相机坐标系的变换。视图矩阵将场景中的物体从世界坐标系转换到相对于相机的坐标系，这样它们就可以被正确地投影到屏幕上。

### 示例

下面我们来看一个简单的例子，通过设置视点、观察目标和上方向，来控制场景的呈现方式。下面有 3 个三角形，视点为（0.25, 0.25, 0.25），观察目标为（0, 0, 0），上方向为（0, 1, 0）。

其中三个角形的坐标与颜色，其中绿色三角形在最后面，黄色三角形在中间，蓝色三角形在最前面。

```ts
// prettier-ignore
const verticesColors = new Float32Array([
    // 顶点坐标和颜色
    0.0, 0.5, -0.4, 0.4, 1.0, 0.4,1.0, // 绿色三角形在最后面
    -0.5, -0.5, -0.4, 0.4, 1.0, 0.4,1.0,
    0.5, -0.5, -0.4, 0.4, 1.0, 0.4,1.0,
    // 黄色三角形在中间
    0.5, 0.4, -0.2, 1.0, 0.4, 0.4,1.0,
    -0.5, 0.4, -0.2, 1.0, 1.0, 0.4,1.0,
    0.0, -0.6, -0.2, 1.0, 1.0, 0.4,1.0,
    // 蓝色三角形在最前面
    0.0, 0.5, 0.0, 0.4, 0.4, 1.0,1.0,
    -0.5, -0.5, 0.0, 0.4, 0.4, 1.0,1.0,
    0.5, -0.5, 0.0, 0.4, 0.4,1.0,1.0,
  ]);
```

<code src="../demos/triangle/lookAtTriangle.tsx"></code>
